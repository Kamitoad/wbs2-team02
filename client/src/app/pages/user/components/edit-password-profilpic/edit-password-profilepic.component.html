<div class="scale">
  <div class="row justify-content-center  ">
    <div class="col-8 custom-card roundedBoarders">
      <div class="row p-4">
        <div class="col-lg-5 col-12 justify-content-center text-center mb-lg-0 mb-4">
          <h3 class="mb-4 next-to1">Profilbild ändern</h3>
          <button (click)="closeEdit()" type="button" class="btn red-close next-to2" id="min-display">X</button>
          <div class="row justify-content-end mb-2">
            <div class="image-container">
              <app-profile-pic></app-profile-pic>
            </div>
          </div>

          <div class="row justify-content-end mb-2">
            <div class="col-6">

              <button class="btn  blue-button" (click)="enableImgUpload()" type="button">Hochladen</button>

              @if (imgUpload){
                <div>
                  <input (change)="onFileChange($event)" type="file" required name="carImgInput" class="customButton mt-2"><br>
                </div>
              }

              @if (errorMessage !== '') {
                <span class="text-danger">
                  {{ errorMessage }}
                </span>
              }



            </div>
            <div class="col-6">
              <button (click)="deleteProfilePic()" type="button" class="btn red-button">Entfernen</button>
            </div>
          </div>
        </div>
        <div class="col-lg-7 col-12 justify-content-center text-center">
          <div class="sameRow">
            <h3 class="mb-4 next-to3">Passwort ändern</h3>
            <button (click)="closeEdit()" type="button" class="btn red-close next-to4" id="max-display">X</button>
          </div>
          <form (ngSubmit)="onSubmit()">
            <div class="old-pw mb-3">
              <div class="col-6">
                <input [(ngModel)]="oldPasword" name="oldPassword"
                       type="password" class="form-control blueBorderInput text-center" id="oldPassword"
                       placeholder="Altes Passwort">
              </div>
            </div>
            <div class="new-pw">
              <div class="col-6 need-mar">
                <input [(ngModel)]="newPassword" name="newPassword"
                       type="password" class="form-control blueBorderInput text-center" id="newPassword"
                       placeholder="Neues Passwort">

              </div>
              <div class="col-6">
                <input [(ngModel)]="newPasswordConfirm" name="newPasswordConfirm"
                       type="password" class="form-control blueBorderInput text-center"
                       id="newPasswordConfirm"
                       placeholder="Neues Passwort bestätigen">

              </div>
            </div>
            <div class="row justify-content-end">
              <div class="col-lg-6 col-12 mb-1">
                <button type="submit" class="btn blue-button">Änderung übernehmen</button>


              </div>
            </div>
            <div class="row justify-content-end">
              <div class="col-6 mb-1">

                <span id="messageSuccess" class="success-message">Passwort erfolgreich geändert</span>
                <span id="messageErrorOld" class="error-message">Altes Passwort nicht korrekt</span>
                <span id="messageErrorNew" class="error-message">Neue Passwörter nicht gleich</span>

              </div>
            </div>

          </form>
        </div>

      </div>
    </div>
  </div>
</div>
